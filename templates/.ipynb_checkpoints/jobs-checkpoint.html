<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetSTAR Clustering App (non-gpu)</title>

    <!-- Bootstrap 5.3.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


    <style>
        .blur {
                filter: blur(4px);
                pointer-events: none; /* Prevent clicks while blurred */
                user-select: none;    /* Optional: prevent text selection */
            }
    </style>

</head>

<body>

    <!-- <div id="loader"
        style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Preparing your download...</p>
    </div> -->

    <div id="loader" style="display: none; position: fixed; top: 50%; left: 50%;
     transform: translate(-50%, -50%); z-index: 9999; background: white; padding: 20px; border-radius: 8px;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p id="loader-text">Preparing your download...</p>
        <div class="progress" style="height: 20px; margin-top: 10px;">
            <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%;"
                 aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%
            </div>
        </div>
    </div>

    <div id="page-content">

        <!-- Navbar at the top -->
        <nav class="navbar navbar-expand-lg navbar-light bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand text-white fw-bold" href="/">NetSTAR Clustering App (non-gpu)</a>

                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link text-white fw-bold" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white fw-bold" href="/jobs">Jobs</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>


        <div class="container mt-5">


            <!-- Display the message (if there is one) -->
            {% if message %}
            <div class="alert alert-info" role="alert">
                {{ message }}
            </div>
            {% endif %}

            <!-- Loop through jobs_list and display each job's details -->
            <div class="row">
                {% for job in jobs_list %}
                <div class="col-md-4 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Job ID: {{ job.job_id }}</h5>
                            <p class="card-text"><strong>Description:</strong> {{ job.job_description }}</p>
                            <p class="card-text"><strong>Clustering Algorithm:</strong> {{ job.clustering_algorithm }}
                            </p>
                            <p class="card-text"><strong>Input Type:</strong> {{ job.input_type }}</p>
                            <p class="card-text"><strong>Number of Clusters:</strong> {{ job.num_clusters }}</p>
                            <p class="card-text"><strong>Input Method:</strong> {{ job.input_method }}</p>
                            <p class="card-text"><strong>Folder Path:</strong> {{ job.folder_path }}</p>
                            <p class="card-text"><strong>Image Encoding:</strong> {{ job.image_encoding }}</p>
                            <p class="card-text"><strong>Date & Time:</strong> {{ job.job_submission_time }}</p>
                            <a href="/view?id={{ job.job_id }}" class="btn btn-primary">View Job</a>
                            <!-- <a href="/download?id={{ job.job_id }}" class="btn btn-primary download-btn"
                                data-job-id="{{ job.job_id }}">Download</a> -->
                            <a href="#" class="btn btn-primary download-btn" data-job-id="{{ job.job_id }}">Download</a>
                            <a href="/delete?id={{ job.job_id }}" class="btn btn-primary">Delete</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>


        </div>



    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="{{ url_for('static', filename='jobs.js') }}">
    </script>

</body>

</html>