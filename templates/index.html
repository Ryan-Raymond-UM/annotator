<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NetSTAR Clustering App (non-gpu)</title>

    <!-- Bootstrap 5.3.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>

<body>


    <!-- Navbar at the top -->
    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand text-white fw-bold" href="/">NetSTAR Clustering App (non-gpu)</a>

            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white fw-bold" href="/jobs">Jobs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>



    <div class="container mt-5">

        <!-- Form to handle inputs -->
        <form id="clusteringForm" action="/submit" method="POST" enctype="multipart/form-data"
            onsubmit="return validateInputs(event)">

            <!-- ZIP File Upload Input and Folder Path Input (Two columns) -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <label for="inputMethod" class="fw-bold">Choose input method</label>
                    <select id="inputMethod" name="inputMethod" class="form-control" onchange="toggleInputFields()"
                        required>
                        <option value="zip">Upload zip or 7z File</option>
                        <option value="path">Enter Folder Path</option>
                        <option value="cloud">Enter Cloud Folder Path</option>
                    </select>
                </div>

                <div class="col-md-6" id="zipInput" style="display: block;">
                    <label for="fileUpload" class="fw-bold">Upload zip or 7z File</label>
                    <input type="file" id="fileUpload" name="fileUpload" class="form-control" accept=".zip, .7z" />
                </div>

                <div class="col-md-6" id="pathInput" style="display: none;">
                    <label for="folderPath" class="fw-bold">Enter Folder Path</label>
                    <input type="text" id="folderPath" name="folderPath" class="form-control"
                        placeholder="Enter path to folder" />
                </div>
            </div>

            <!-- Clustering Algorithm Dropdown and Job Description (Two columns) -->
            <div class="row mb-4">
                <div class="col-md-6" id="jobDescriptionDiv">
                    <label for="jobDescription" class="fw-bold">Please provide a brief description for this job</label>
                    <input id="jobDescription" name="jobDescription" class="form-control"
                        placeholder="Example: Clustering 1500 samples of gambling websites." required />
                </div>

                <div class="col-md-6">
                    <label for="clusteringAlgorithm" class="fw-bold">Select Clustering Algorithm</label>
                    <select id="clusteringAlgorithm" name="clusteringAlgorithm" class="form-control" required>
                        <option value="KMeans">KMeans</option>
                        <option value="Agglomerative">Agglomerative</option>
                        <option value="DBSCAN">DBSCAN</option>
                    </select>
                </div>
            </div>

            <!-- Input Type Dropdown and Number of Clusters (Two columns) -->
            <div class="row mb-4">
                <div class="col-md-6">
                    <label for="numClusters" class="fw-bold">Number of clusters</label>
                    <input type="number" id="numClusters" name="numClusters" class="form-control" value="12" min="2"
                        max="50" required />
                </div>

                <div class="col-md-6">
                    <label for="inputType" class="fw-bold">What kind of input do you want to use?</label>
                    <select id="inputType" name="inputType" class="form-control" onchange="toggleEncodingDropdowns()"
                        required>
                        <option value="image">Image</option>
                        <option value="text">Text</option>
                        <option value="both">Both</option>
                    </select>
                </div>
            </div>

            <!-- Image and Text Encoding (conditionally shown) -->
            <div class="row mb-4">
                <div class="col-md-6" id="imageEncodingDiv" style="display: none;">
                    <label for="imageEncoding" class="fw-bold">Select Image Encoding Model</label>
                    <select id="imageEncoding" name="imageEncoding" class="form-control" required>
                        <option value="Salesforce/blip2-opt-2.7b">Salesforce/blip2-opt-2.7b</option>
                        <option value="OpenAI/CLIP">OpenAI/CLIP</option>
                        <option value="Google/ViT-B-32">Google/ViT-B-32</option>
                    </select>
                </div>

                <div class="col-md-6" id="textEncodingDiv" style="display: none;">
                    <label for="textEncoding" class="fw-bold">Select Text Encoding Model</label>
                    <select id="textEncoding" name="textEncoding" class="form-control" required>
                        <option value="bert-base-uncased">bert-base-uncased</option>
                        <option value="gpt-2">gpt-2</option>
                        <option value="roberta-base">roberta-base</option>
                    </select>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="text-center mt-4">
                <button class="btn btn-primary" type="submit">Submit Job</button>
            </div>

        </form>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="{{ url_for('static', filename='index.js') }}">
    </script>

</body>

</html>